---
import logo from '../../public/logo.png';
import Icono from '../assets/icon/bar.png';
import '../styles/global.css';
---

<!doctype html>
<html lang="es" style="background : #f5f5f5">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href={logo.src} />
		<meta name="generator" content={Astro.generator} />
		<title>Miguel J. | Full Stack Developer</title>
		<link rel="preload" href="/fonts/InterTight-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
		<link rel="preload" href="/fonts/InterTight-Medium.ttf" as="font" type="font/ttf" crossorigin="anonymous">
		<link rel="preload" href="/fonts/InterTight-SemiBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
		<link rel="preload" href="/fonts/InterTight-Bold.ttf" as="font" type="font/ttf" crossorigin="anonymous">
		<link rel="preload" href="/fonts/InterTight-ExtraBold.ttf" as="font" type="font/ttf" crossorigin="anonymous">

		<style>
			body {
			visibility: hidden;
			opacity: 0;
			transition: opacity 0.3s ease;
			}
		</style>

		<script>
			import { gsap } from "gsap";
			import { ScrollTrigger } from "gsap/ScrollTrigger";
			import { ScrollSmoother } from "gsap/ScrollSmoother";
			
			window.addEventListener('load', () => {
			document.body.style.visibility = 'visible';
			document.body.style.opacity = '1';
			});

			gsap.registerPlugin(ScrollTrigger, ScrollSmoother);
			ScrollSmoother.create({
				smooth: 2,
				effects: true,
				normalizeScroll: true
			});

			window.addEventListener("beforeunload", () => {
				sessionStorage.setItem("scrollY", window.scrollY.toString());
			});

			// Restaurar despuÃ©s de cargar
			window.addEventListener("load", () => {
				const scrollY = sessionStorage.getItem("scrollY");
				if (scrollY) window.scrollTo(0, parseInt(scrollY));
			});
		</script>
	</head>
	<body>
		<nav class="nav_inicio">
			<div class="nav_inicio-logo">
				<img src={Icono.src} alt="">
				<span>PORTAFOLIO 2025</span>
			</div>
			<div class="nav_inicio-links">
				<a href="">INICIO</a>
				<a href="">SOBRE MI</a>
				<a href="">PROYECTOS</a>
				<a href="">EXPERIENCIA</a>
				<a href="">CONTACTO</a>
			</div>
		</nav>
		<div id="smooth-wrapper">
    		<div id="smooth-content">
				<slot />
			</div>
		</div>
	</body>
</html>

<style>
	.nav_inicio {
		display: flex;
		justify-content: space-between;
		align-items: center;
		position: fixed;
		width: 100%;
		padding: 25px 30px;
		background-color: #f5f5f5;
		box-sizing: border-box;
		z-index: 99;
	}

	.nav_inicio-logo {
		display: flex;
		align-items: center;
		gap: 5px;
	}

	.nav_inicio-logo img {
		height: 20px;
		width: 24px;
	}

	.nav_inicio-logo span {
		font-size: 15px;
		font-weight: 600;
	}

	.nav_inicio-links {
		display: flex;
		gap: 20px;
	}

	.nav_inicio-links a {
		font-size: 15px;
		font-weight: 600;
		text-decoration: none;
		color: #000000;
		transition: 0.2s;
	}

	.nav_inicio-links a:hover {
		color: #a0a0a0;
	}
</style>